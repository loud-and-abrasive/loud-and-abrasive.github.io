<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Checked=&quot;checked&quot; in Razor |  Loud &amp; Abrasive: Patrick McVeety-Mill</title>
<link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.png" >

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Bungee+Shade&family=Montserrat+Alternates&family=Montserrat:wght@300&family=Vibur&display=swap" rel="stylesheet"> 
<script src="https://kit.fontawesome.com/69fa8fd1fe.js" crossorigin="anonymous"></script>

<link rel="stylesheet" href="/assets/main.css">
<link rel="stylesheet" href="/assets/syntax.css">

<link rel="alternate" type="application/atom+xml" title="Loud &amp; Abrasive: Patrick McVeety-Mill" href="/feed.xml"/>
<link rel="alternate" type="application/rss+xml"  title="Loud &amp; Abrasive: Patrick McVeety-Mill" href="/feed.xml"> 

<script>
  window.backOrHome = function() {
    if(window.history.length <= 1){
      window.location.replace('/')
    } else{
      history.back();
    }
  };
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-49372703-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-49372703-1');
</script>



<!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v3.9.1" />
<meta property="og:title" content="Checked=”checked” in Razor" />
<meta name="author" content="Patrick McVeety-Mill" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I often see the following Razor-enhanced form markup for writing out input checkboxes, particularly in loops where a given checkbox may be checked or unchecked based on some state in the Model. In the completely real scenario below, I have a form on a webpage where I select fruits for a smoothie: @foreach(var fruit in Model.AllFruits) { var id = &quot;SelectedFruits_&quot; + fruit.Id; if (Model.SelectedFruits.Contains(fruit.Id)) { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; checked=&quot;checked&quot; /&gt; } else { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; /&gt; } }" />
<meta property="og:description" content="I often see the following Razor-enhanced form markup for writing out input checkboxes, particularly in loops where a given checkbox may be checked or unchecked based on some state in the Model. In the completely real scenario below, I have a form on a webpage where I select fruits for a smoothie: @foreach(var fruit in Model.AllFruits) { var id = &quot;SelectedFruits_&quot; + fruit.Id; if (Model.SelectedFruits.Contains(fruit.Id)) { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; checked=&quot;checked&quot; /&gt; } else { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; /&gt; } }" />
<link rel="canonical" href="http://loudandabrasive.com/checked-equals-checked-in-razor" />
<meta property="og:url" content="http://loudandabrasive.com/checked-equals-checked-in-razor" />
<meta property="og:site_name" content="Loud &amp; Abrasive: Patrick McVeety-Mill" />
<meta property="og:image" content="http://loudandabrasive.com/assets/default-card-image.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-11-26T14:03:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://loudandabrasive.com/assets/default-card-image.jpg" />
<meta property="twitter:title" content="Checked=”checked” in Razor" />
<meta name="twitter:site" content="@loudandabrasive" />
<meta name="twitter:creator" content="@loudandabrasive" />
<script type="application/ld+json">
{"description":"I often see the following Razor-enhanced form markup for writing out input checkboxes, particularly in loops where a given checkbox may be checked or unchecked based on some state in the Model. In the completely real scenario below, I have a form on a webpage where I select fruits for a smoothie: @foreach(var fruit in Model.AllFruits) { var id = &quot;SelectedFruits_&quot; + fruit.Id; if (Model.SelectedFruits.Contains(fruit.Id)) { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; checked=&quot;checked&quot; /&gt; } else { &lt;input id=&quot;@id&quot; name=&quot;SelectedFruits&quot; type=&quot;checkbox&quot; value=&quot;@fruit.Id&quot; /&gt; } }","url":"http://loudandabrasive.com/checked-equals-checked-in-razor","@type":"BlogPosting","image":"http://loudandabrasive.com/assets/default-card-image.jpg","headline":"Checked=”checked” in Razor","dateModified":"2014-11-26T14:03:00+00:00","datePublished":"2014-11-26T14:03:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://loudandabrasive.com/checked-equals-checked-in-razor"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://loudandabrasive.com/assets/loudandalogo.png"},"name":"Patrick McVeety-Mill"},"author":{"@type":"Person","name":"Patrick McVeety-Mill"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
  <body>

    <header class="top">
  <div class="title-container">
  <span class="subtitle">Patrick McVeety-Mill:</span>
  <h1 class="title">
    <a href="/">Loud &amp; Abrasive</a>
  </h1>
</div>

<nav>
  <input id="nav-toggle-check" name="nav-toggle-check" type="checkbox" class="nav-toggle" />
  <label for="nav-toggle-check" class="nav-toggle">
    <i class="fas fa-bars"></i>
  </label>

  <ul class="page-list">
    
      
      
        <li class="nav-link-vermilion">
          <a href="/tech/index.html">
            Tech <i class="fas fa-code-branch"></i>
          </a>
        </li>
      
    
      
      
        <li class="nav-link-orange">
          <a href="/life/index.html">
            Life <i class="fas fa-hiking"></i>
          </a>
        </li>
      
    
      
      
        <li class="nav-link-citron">
          <a href="/arts/index.html">
            Arts <i class="fas fa-paint-brush"></i>
          </a>
        </li>
      
    
      
      
        <li class="nav-link-teal">
          <a href="/about/">
            About <i class="fas fa-bullhorn"></i>
          </a>
        </li>
      
    
    <li class="nav-link-charcoal">
      <a href="/feed.xml" target="_blank" class="hover-charcoal">Subscribe <i class="fas fa-rss"></i></a>
    </li>
  </ul>

  <hr class="stripes mobile-stripes" />
</nav>

</header>
<hr class="stripes top-stripes" />

<main class="site-content" aria-label="Content">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Checked=&quot;checked&quot; in Razor</h1>
    <div class="post-meta">
      <div>
        <span class="post-category vermilion">Development</span>
        published
        <time datetime="2014-11-26T14:03:00+00:00" itemprop="datePublished">
          
          Nov 26, 2014
        </time>
      </div>
      
        regarding html | .NET | razor
      
    </div>
  </header>

  <div class="post-content" aria-label="Content" itemprop="articleBody">
    <p>I often see the following <a href="http://www.asp.net/mvc/overview/views">Razor-enhanced</a> form markup for writing out input checkboxes, particularly in loops where a given checkbox may be checked or unchecked based on some state in the Model. In the completely real scenario below, I have a form on a webpage where I select fruits for a smoothie:</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">@foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">Model</span><span class="p">.</span><span class="n">AllFruits</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">id</span> <span class="p">=</span> <span class="s">"SelectedFruits_"</span> <span class="p">+</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">Model</span><span class="p">.</span><span class="n">SelectedFruits</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">fruit</span><span class="p">.</span><span class="n">Id</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="p">&lt;</span><span class="n">input</span> <span class="n">id</span><span class="p">=</span><span class="s">"@id"</span> <span class="n">name</span><span class="p">=</span><span class="s">"SelectedFruits"</span> <span class="n">type</span><span class="p">=</span><span class="s">"checkbox"</span> <span class="k">value</span><span class="p">=</span><span class="s">"@fruit.Id"</span> <span class="k">checked</span><span class="p">=</span><span class="s">"checked"</span> <span class="p">/&gt;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="p">&lt;</span><span class="n">input</span> <span class="n">id</span><span class="p">=</span><span class="s">"@id"</span> <span class="n">name</span><span class="p">=</span><span class="s">"SelectedFruits"</span> <span class="n">type</span><span class="p">=</span><span class="s">"checkbox"</span> <span class="k">value</span><span class="p">=</span><span class="s">"@fruit.Id"</span> <span class="p">/&gt;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<!--more-->

<p>Alternatively, I can simplify that verbose if/else-ing by creating a variable that represents the presence or absence of the <code class="language-plaintext highlighter-rouge">checked="checked"</code> attribute, using a ternary statement:</p>

<div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">@foreach</span><span class="p">(</span><span class="kt">var</span> <span class="n">fruit</span> <span class="k">in</span> <span class="n">Model</span><span class="p">.</span><span class="n">AllFruits</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">id</span> <span class="p">=</span> <span class="s">"SelectedFruits_"</span> <span class="p">+</span> <span class="n">fruit</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">isChecked</span> <span class="p">=</span> <span class="n">Model</span><span class="p">.</span><span class="n">SelectedFruits</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">fruit</span><span class="p">.</span><span class="n">Id</span><span class="p">)</span> <span class="p">?</span> <span class="s">"checked=\"checked\""</span> <span class="p">:</span> <span class="s">""</span><span class="p">;</span>

    <span class="p">&lt;</span><span class="n">input</span> <span class="n">id</span><span class="p">=</span><span class="s">"@id"</span> <span class="n">name</span><span class="p">=</span><span class="s">"SelectedFruits"</span> <span class="n">type</span><span class="p">=</span><span class="s">"checkbox"</span> <span class="k">value</span><span class="p">=</span><span class="s">"@fruit.Id"</span> <span class="n">@isChecked</span><span class="p">/&gt;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>While this does leave you with some functionality in your View, I find it’s much cleaner and more readable than the alternative. If you’re using the checked/unchecked flag for other logic, you can separate it out to its own variable to be used both for the markup ternary and whatever else you need it for. (Or better yet, pull it back to the Model because you shouldn’t have lots of logic into your View.)</p>

<p>Is there a reason this isn’t the common practice? It’s worked for me so far, but I’m concerned there’s something I’m missing. Tell me what you think, or about your favorite <a href="http://i.imgur.com/ykc2UCx.jpg">Razor cleaner</a> down there in the comments.</p>

  </div>

  <a class="outline-link" href="javascript:window.backOrHome()">
    <i class="fas fa-chevron-left vermilion"><i class="fas fa-chevron-left orange"></i></i><i class="fas fa-chevron-left citron"></i><i class="fas fa-chevron-left teal"></i>
    Return
  </a>

  
</article>

</main>


    <hr class="footer-stripes" />

<footer class="site-footer">
  <span class="copy">&copy; 2021 Loud & Abrasive & Co.</span>
  <ul class="social-links">
    
      
      
      <li><a href="https://twitter.com/loudandabrasive" title="Twitter" target="_blank"><i class="fab fa-twitter hover-vermilion"></i></a></li>
      
    
      
      
      <li><a href="https://linkedin.com/in/pmcvtm" title="LinkedIn" target="_blank"><i class="fab fa-linkedin-in hover-orange"></i></a></li>
      
    
      
      
      <li><a href="https://github.com/pmcvtm" title="Github" target="_blank"><i class="fab fa-github hover-citron"></i></a></li>
      
    
      
      
      <li><a href="https://bandcamp.com/loudandabrasive" title="Bandcamp" target="_blank"><i class="fab fa-bandcamp hover-teal"></i></a></li>
      
    
      
      
      <li><a href="https://letterboxd.com/loudandabrasive/" title="Letterboxd" target="_blank"><i class="fab fa-pied-piper hover-charcoal"></i></a></li>
      
    
      
      
      <li><a href="https://untappd.com/user/loudandabrasive" title="Untappd" target="_blank"><i class="fab fa-untappd hover-vermilion"></i></a></li>
      
    
      
      
      <li><a href="https://goodreads.com/loudandabrasive/" title="Goodreads" target="_blank"><i class="fab fa-goodreads-g hover-orange"></i></a></li>
      
    
      
      
      <li><a href="https://instagram.com/loudandabrasive" title="Instagram" target="_blank"><i class="fab fa-instagram hover-citron"></i></a></li>
      
    
    <li><a class="rss" title="Subscribe" target="_blank" href="/feed.xml"><i class="fas fa-rss"></i></a></li>
  </ul>
</footer>


  </body>
</html>
